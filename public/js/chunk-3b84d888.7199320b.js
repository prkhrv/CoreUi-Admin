(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b84d888"],{"10e2":function(t,e,a){},"1af6":function(t,e,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"3f0e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{header:t.caption}},[a("b-table",{attrs:{dark:t.dark,hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.items,fields:t.captions,"current-page":t.currentPage,"per-page":t.perPage},scopedSlots:t._u([{key:"status",fn:function(e){return[a("b-badge",{attrs:{variant:t.getBadge(e.item.status)}},[t._v(t._s(e.item.status))])]}}])}),a("nav",[a("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"prev-text":"Prev","next-text":"Next","hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},r=[],o=a("a745"),s=a.n(o),i=(a("c5f6"),{name:"c-table",inheritAttrs:!1,props:{caption:{type:String,default:"Table"},hover:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},tableData:{type:[Array],default:function(){return[]}},fields:{type:[Array,Object],default:function(){return[]}},perPage:{type:Number,default:1},dark:{type:Boolean,default:!1}},data:function(){return{currentPage:1}},computed:{items:function(){var t=this.tableData;return s()(t)?t:t()},totalRows:function(){return this.getRowCount()},captions:function(){return this.fields}},methods:{getBadge:function(t){return"Active"===t?"success":"Inactive"===t?"secondary":"Pending"===t?"warning":"Banned"===t?"danger":"primary"},getRowCount:function(){return this.items.length}}}),c=i,l=a("2877"),u=Object(l["a"])(c,n,r,!1,null,null,null);e["a"]=u.exports},5081:function(t,e,a){"use strict";var n=a("10e2"),r=a.n(n);r.a},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},9003:function(t,e,a){var n=a("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},a745:function(t,e,a){t.exports=a("f410")},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),o=a("2d95"),s=a("5dbc"),i=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,m=a("aa77").trim,p="Number",h=n[p],f=h,b=h.prototype,g=o(a("2aeb")(b))==p,_="trim"in String.prototype,v=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():m(e,3);var a,n,r,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(g?c(function(){b.valueOf.call(a)}):o(a)!=p)?s(new f(v(e)),a,h):v(e)};for(var y,w=a("9e1e")?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(f,y=w[k])&&!r(h,y)&&d(h,y,u(f,y));h.prototype=b,b.constructor=h,a("2aba")(n,p,h)}},d7f8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("b-row",[a("c-table",{attrs:{"table-data":t.items,fields:t.fields,caption:"Product Details"}})],1),a("b-row",[a("b-card",[a("b-card-header",[a("i",{staticClass:"icon-menu mr-1"}),t._v("Join Requests\n          ")]),a("b-card-body",[a("v-client-table",{attrs:{columns:t.columns,data:t.data1,options:t.options,theme:t.theme,id:"dataTable"},scopedSlots:t._u([{key:"child_row",fn:function(e){return a("div",{},[a("b-form",{on:{submit:function(a){return a.preventDefault(),t.updateDatajoin(e.row._id)}}},[a("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"},on:{click:function(a){return t.delDatajoin(e.row._id)}}},[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v("Accept")])],1),a("b-button",{attrs:{type:"submit",size:"sm",variant:"danger"},on:{click:function(a){return t.delDatajoin(e.row._id)}}},[a("i",{staticClass:"fa fa-ban"}),t._v(" Reject")])],1)}}])})],1)],1)],1)],1),a("b-col",{attrs:{lg:"6"}},[a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("strong",[t._v("Update/Delete")]),t._v(" Inventory\n        ")]),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateData(e)}}},[a("b-form-group",{attrs:{label:"Current Site Id","label-for":"basicInputDisabled","label-cols":3,horizontal:!0}},[a("b-form-input",{attrs:{id:"basicInputDisabled",type:"text",value:t.chats.room_site,disabled:!0,placeholder:"Site Id"}})],1),a("b-form-group",{attrs:{description:"Enter the Site",label:" Update Site Id","label-for":"basicText","label-cols":3,horizontal:!0}},[a("cool-select",{attrs:{items:t.items1,loading:t.loading,"item-text":"siteid","item-value":"_id",placeholder:"Just Type The Site ID/Name","disable-filtering-by-search":""},on:{search:t.onSearch},model:{value:t.chats.room_site,callback:function(e){t.$set(t.chats,"room_site",e)},expression:"chats.room_site"}})],1),a("b-form-group",{attrs:{description:"Enter the Room Name",label:"Room Name","label-for":"basicText","label-cols":3,horizontal:!0}},[a("b-form-input",{attrs:{id:"basicText",type:"text",placeholder:"Enter the room Name"},model:{value:t.chats.room_name,callback:function(e){t.$set(t.chats,"room_name",e)},expression:"chats.room_name"}})],1),a("b-form-group",{attrs:{label:" Current Allowed Users","label-for":"tags","label-cols":3,horizontal:!0}},t._l(t.test.allowed_users,function(e,n){return a("b-col",{attrs:{cols:"13"}},[a("b-form-input",{attrs:{disabled:!0,value:t.test.allowed_users[n]}})],1)}),1),a("b-form-group",{attrs:{description:"Allowed Users",label:"Allowed Users","label-for":"basicText","label-cols":3,horizontal:!0}},t._l(t.chats.allowed_users,function(e,n){return a("b-col",{key:n,attrs:{cols:"13"}},[a("cool-select",{attrs:{items:t.items2,loading:t.loading,"item-text":"name",placeholder:"Enter The User ID","disable-filtering-by-search":""},on:{search:t.onSearch2},model:{value:t.chats.allowed_users[n],callback:function(e){t.$set(t.chats.allowed_users,n,e)},expression:"chats.allowed_users[index]"}}),a("br")],1)}),1),a("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deleteuser()}}},[a("i",{staticClass:"fa fa-ban"}),t._v(" - Delete User")]),a("b-button",{staticClass:"float-right",attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){return t.adduser()}}},[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" + Add User")]),a("br"),a("br"),a("b-form-group",{attrs:{label:" Current Group Admins","label-for":"tags","label-cols":3,horizontal:!0}},t._l(t.test.group_admins,function(e,n){return a("b-col",{attrs:{cols:"13"}},[a("b-form-input",{attrs:{disabled:!0,value:t.test.group_admins[n]}})],1)}),1),a("b-form-group",{attrs:{description:"New Group Admins",label:"Group Admins","label-for":"basicText","label-cols":3,horizontal:!0}},t._l(t.chats.group_admins,function(e,n){return a("b-col",{key:n,attrs:{cols:"13"}},[a("cool-select",{attrs:{items:t.items3,loading:t.loading,"item-text":"name",placeholder:"Enter The Admin ID","disable-filtering-by-search":""},on:{search:t.onSearch3},model:{value:t.chats.group_admins[n],callback:function(e){t.$set(t.chats.group_admins,n,e)},expression:"chats.group_admins[index]"}}),a("br")],1)}),1),a("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deleteadmin()}}},[a("i",{staticClass:"fa fa-ban"}),t._v(" - Delete Admin")]),a("b-button",{staticClass:"float-right",attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){return t.addadmin()}}},[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" + Add Admin")]),a("br"),a("br"),a("b-form-group",{attrs:{label:"Only Admins can Send Messages","label-for":"basicRadiosCustom","label-cols":3,horizontal:!0}},[a("b-form-radio-group",{attrs:{id:"basicRadiosCustom",value:"1",stacked:""}},[a("div",{staticClass:"custom-control custom-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.chats.only_admins,expression:"chats.only_admins"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio1",name:"customRadio",value:"yes"},domProps:{checked:t._q(t.chats.only_admins,"yes")},on:{change:function(e){return t.$set(t.chats,"only_admins","yes")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customRadio1"}},[t._v("Yes")])]),a("div",{staticClass:"custom-control custom-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.chats.only_admins,expression:"chats.only_admins"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio2",name:"customRadio",value:"no",checked:""},domProps:{checked:t._q(t.chats.only_admins,"no")},on:{change:function(e){return t.$set(t.chats,"only_admins","no")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"customRadio2"}},[t._v("No")])])])],1),a("b-form-group",{attrs:{label:"Current Emergency Contacts","label-for":"tags","label-cols":3,horizontal:!0}},t._l(t.test.emergency_contacts,function(e,n){return a("b-col",{attrs:{cols:"13"}},[a("b-form-input",{attrs:{disabled:!0,value:t.test.emergency_contacts[n]}})],1)}),1),a("b-form-group",{attrs:{description:"New Emergency Contacts",label:"New Emergency Contacts","label-for":"basicText","label-cols":3,horizontal:!0}},t._l(t.chats.emergency_contacts,function(e,n){return a("b-col",{key:n,attrs:{cols:"13"}},[a("cool-select",{attrs:{items:t.items4,loading:t.loading,"item-text":"name",placeholder:"Enter The Contacts ID","disable-filtering-by-search":""},on:{search:t.onSearch4},model:{value:t.chats.emergency_contacts[n],callback:function(e){t.$set(t.chats.emergency_contacts,n,e)},expression:"chats.emergency_contacts[index]"}}),a("br")],1)}),1),a("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deletecontact()}}},[a("i",{staticClass:"fa fa-ban"}),t._v(" - Delete Contact")]),a("b-button",{staticClass:"float-right",attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){return t.addcontact()}}},[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" + Add Contact")]),a("br"),a("br"),a("br"),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("b-button",{attrs:{type:"submit",size:"sm",variant:"primary"}},[a("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" Submit")]),a("b-button",{attrs:{type:"submit",size:"sm",variant:"danger"},on:{click:function(e){return t.delData()}}},[a("i",{staticClass:"fa fa-ban"}),t._v(" Reset")])],1)],1)],1)],1)],1)},r=[],o=(a("96cf"),a("3b8d")),s=(a("28a5"),a("a026")),i=a("bc3a"),c=a.n(i),l=a("3f0e"),u=a("9ebe"),d=a("bf76"),m=window.location.href,p=m.split("chatgroups/",24).pop();console.log(p),s["default"].use(u["ClientTable"]);var h={name:"dashboard",components:{cTable:l["a"],CoolSelect:d["CoolSelect"],ClientTable:u["ClientTable"],Event:u["Event"]},data:function(){return{items:[],data:[],joinData:[],fields:[{key:"room_code",label:"Room Code",sortable:!0},{key:"created_date"},{key:"room_name"},{key:"total_join_req"},{key:"no_of_users"}],columns:["username","room_name","room_code","_id"],data1:[],options:{headings:{username:"Username",room_name:"Room Name",room_code:"Room Code",_id:"URL"},sortable:["username","room_name","room_code"],filterable:["username","room_name","room_code"],sortIcon:{base:"fa",up:"fa-sort-asc",down:"fa-sort-desc",is:"fa-sort"},pagination:{chunk:5,edge:!1,nav:"scroll"}},useVuex:!1,theme:"bootstrap4",template:"default",selected:null,items1:[],items2:[],items3:[],items4:[],test:[],loading:!1,timeoutId:null,noData:!1,errors:[],chats:{room_name:"",room_site:"",allowed_users:[],group_admins:[],only_admins:"",emergency_contacts:[],_id:p},response:"",join:{username:"",room_code:"",user:"",room_id:"",user_token:"",_id:p}}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://selacious-cloud-siteapi.herokuapp.com/join").then(function(t){e.joinData=t.data,c.a.get("https://selacious-cloud-siteapi.herokuapp.com/chats/".concat(p)).then(function(t){e.chats=t.data,e.test=t.data,e.data=t.data;var a=0;e.data.no_of_users=e.data.allowed_users.length;for(var n=0;n<e.joinData.length;n++)e.data.room_code==e.joinData[n].room_code&&(a+=1,e.data1.push(e.joinData[n]));e.data.total_join_req=a,e.items=[e.data]})});case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{variant:function(t){var e;return t<=25?e="info":t>25&&t<=50?e="success":t>50&&t<=75?e="warning":t>75&&t<=100&&(e="danger"),e},flag:function(t){return"flag-icon flag-icon-"+t},delDatajoin:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:c()({method:"DELETE",url:"https://selacious-cloud-siteapi.herokuapp.com/join/".concat(e),data:this.j,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){a.join=t.data,a.$router.push("/chatgroups")},function(t){console.error(t)});case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),updateDatajoin:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:c.a.post("https://pv-chat-socket.herokuapp.com/app/send/notification/",{user_token:this.join.user_token}).then(function(t){console.log(t)}),c.a.post("https://selacious-cloud-siteapi.herokuapp.com/chats/join/",{_id:e,allowed_users:this.join.user}).then(function(t){console.log(t),a.$router.push("/chatgroups")});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),updateData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:c.a.put("https://selacious-cloud-siteapi.herokuapp.com/chats/".concat(p),this.chats).then(function(t){console.log(t),e.$router.push("/chatgroups")});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),delData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:c()({method:"DELETE",url:"https://selacious-cloud-siteapi.herokuapp.com/chats/".concat(p),data:this.chat,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.chats=t.data,e.$router.push("/chatgroups")},function(t){console.error(t)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onSearch:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=2,this.noData=!1,!(e.length<a)){t.next=6;break}return this.items1=[],this.loading=!1,t.abrupt("return");case 6:this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://selacious-cloud-siteapi.herokuapp.com/sites");case 2:return e=t.sent,t.next=5,e.json();case 5:n.items1=t.sent,n.loading=!1,n.items1.length||(n.noData=!0),console.log(n.items1);case 9:case"end":return t.stop()}},t)})),500);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch2:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=2,this.noData=!1,!(e.length<a)){t.next=6;break}return this.items2=[],this.loading=!1,t.abrupt("return");case 6:this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://selacious-cloud-siteapi.herokuapp.com/users");case 2:return e=t.sent,t.next=5,e.json();case 5:n.items2=t.sent,n.loading=!1,n.items2.length||(n.noData=!0),console.log(n.items2);case 9:case"end":return t.stop()}},t)})),500);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch3:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=2,this.noData=!1,!(e.length<a)){t.next=6;break}return this.items3=[],this.loading=!1,t.abrupt("return");case 6:this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://selacious-cloud-siteapi.herokuapp.com/users");case 2:return e=t.sent,t.next=5,e.json();case 5:n.items3=t.sent,n.loading=!1,n.items3.length||(n.noData=!0),console.log(n.items3);case 9:case"end":return t.stop()}},t)})),500);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch4:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=2,this.noData=!1,!(e.length<a)){t.next=6;break}return this.items4=[],this.loading=!1,t.abrupt("return");case 6:this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://selacious-cloud-siteapi.herokuapp.com/users");case 2:return e=t.sent,t.next=5,e.json();case 5:n.items4=t.sent,n.loading=!1,n.items4.length||(n.noData=!0),console.log(n.items4);case 9:case"end":return t.stop()}},t)})),500);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),adduser:function(){this.chats.allowed_users.push("")},deleteuser:function(t){this.chats.allowed_users.splice(t,1),this.test.allowed_users.splice(t,1)},addadmin:function(){this.chats.group_admins.push("")},deleteadmin:function(t){this.chats.group_admins.splice(t,1),this.test.group_admins.splice(t,1)},addcontact:function(){this.chats.emergency_contacts.push("")},deletecontact:function(t){this.chats.emergency_contacts.splice(t,1),this.test.emergency_contacts.splice(t,1)}}},f=h,b=(a("5081"),a("2877")),g=Object(b["a"])(f,n,r,!1,null,null,null);e["default"]=g.exports},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-3b84d888.7199320b.js.map